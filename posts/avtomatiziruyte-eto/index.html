<!doctype html><html lang=en-us><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><script type=text/javascript src=https://latest.cactus.chat/cactus.js></script>
<link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Решение задачи "Автоматизируй это" | Яндекс Контест | Rami's Mixtape</title><link rel=canonical href=/posts/avtomatiziruyte-eto/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="Решение задачи &#34;Автоматизируй это&#34; | Яндекс Контест"><meta property="og:description" content="Задача взята c платформы Яндекс Контест - https://contest.yandex.ru/contest/19380/problems/D.
P.S. Для просмотра на платформе вам скорее всего придется войти/зарегистрироваться.
Описание задачи На государственном портале предоставления услуг сделали возможность подавать заявление на получение документов полностью автоматически, для этого надо только заполнить таблицу с персональными данными.
Эти данные затем передаются на проверку в несколько инстанций, включая МВД. После начала тестирования выяснилось, что МВД принимает данные в формате markdown, а ГосУслуги пользуются html-форматом. Помогите написать скрипт миграции одного формата в другой, чтобы ребята поскорее запустились."><meta property="og:type" content="article"><meta property="og:url" content="/posts/avtomatiziruyte-eto/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-06-26T19:46:21+03:00"><meta property="article:modified_time" content="2022-06-26T19:46:21+03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Решение задачи &#34;Автоматизируй это&#34; | Яндекс Контест"><meta name=twitter:description content="Задача взята c платформы Яндекс Контест - https://contest.yandex.ru/contest/19380/problems/D.
P.S. Для просмотра на платформе вам скорее всего придется войти/зарегистрироваться.
Описание задачи На государственном портале предоставления услуг сделали возможность подавать заявление на получение документов полностью автоматически, для этого надо только заполнить таблицу с персональными данными.
Эти данные затем передаются на проверку в несколько инстанций, включая МВД. После начала тестирования выяснилось, что МВД принимает данные в формате markdown, а ГосУслуги пользуются html-форматом. Помогите написать скрипт миграции одного формата в другой, чтобы ребята поскорее запустились."><link rel=stylesheet href=/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=/images/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick='$("html, body").animate({scrollTop:0},"fast")' style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul></ul></span><br><span id=actions><ul><li><a class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=%2fposts%2favtomatiziruyte-eto%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=%2fposts%2favtomatiziruyte-eto%2f&text=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=%2fposts%2favtomatiziruyte-eto%2f&title=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=%2fposts%2favtomatiziruyte-eto%2f&is_video=false&description=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82&body=Check out this article: %2fposts%2favtomatiziruyte-eto%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=%2fposts%2favtomatiziruyte-eto%2f&title=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=%2fposts%2favtomatiziruyte-eto%2f&title=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=%2fposts%2favtomatiziruyte-eto%2f&name=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82&description=%d0%97%d0%b0%d0%b4%d0%b0%d1%87%d0%b0%20%d0%b2%d0%b7%d1%8f%d1%82%d0%b0%20c%20%d0%bf%d0%bb%d0%b0%d1%82%d1%84%d0%be%d1%80%d0%bc%d1%8b%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82%20-%20https%3a%2f%2fcontest.yandex.ru%2fcontest%2f19380%2fproblems%2fD.%0aP.S.%20%d0%94%d0%bb%d1%8f%20%d0%bf%d1%80%d0%be%d1%81%d0%bc%d0%be%d1%82%d1%80%d0%b0%20%d0%bd%d0%b0%20%d0%bf%d0%bb%d0%b0%d1%82%d1%84%d0%be%d1%80%d0%bc%d0%b5%20%d0%b2%d0%b0%d0%bc%20%d1%81%d0%ba%d0%be%d1%80%d0%b5%d0%b5%20%d0%b2%d1%81%d0%b5%d0%b3%d0%be%20%d0%bf%d1%80%d0%b8%d0%b4%d0%b5%d1%82%d1%81%d1%8f%20%d0%b2%d0%be%d0%b9%d1%82%d0%b8%2f%d0%b7%d0%b0%d1%80%d0%b5%d0%b3%d0%b8%d1%81%d1%82%d1%80%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d1%82%d1%8c%d1%81%d1%8f.%0a%d0%9e%d0%bf%d0%b8%d1%81%d0%b0%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%d0%9d%d0%b0%20%d0%b3%d0%be%d1%81%d1%83%d0%b4%d0%b0%d1%80%d1%81%d1%82%d0%b2%d0%b5%d0%bd%d0%bd%d0%be%d0%bc%20%d0%bf%d0%be%d1%80%d1%82%d0%b0%d0%bb%d0%b5%20%d0%bf%d1%80%d0%b5%d0%b4%d0%be%d1%81%d1%82%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d1%8f%20%d1%83%d1%81%d0%bb%d1%83%d0%b3%20%d1%81%d0%b4%d0%b5%d0%bb%d0%b0%d0%bb%d0%b8%20%d0%b2%d0%be%d0%b7%d0%bc%d0%be%d0%b6%d0%bd%d0%be%d1%81%d1%82%d1%8c%20%d0%bf%d0%be%d0%b4%d0%b0%d0%b2%d0%b0%d1%82%d1%8c%20%d0%b7%d0%b0%d1%8f%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%bd%d0%b0%20%d0%bf%d0%be%d0%bb%d1%83%d1%87%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b4%d0%be%d0%ba%d1%83%d0%bc%d0%b5%d0%bd%d1%82%d0%be%d0%b2%20%d0%bf%d0%be%d0%bb%d0%bd%d0%be%d1%81%d1%82%d1%8c%d1%8e%20%d0%b0%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%b8%2c%20%d0%b4%d0%bb%d1%8f%20%d1%8d%d1%82%d0%be%d0%b3%d0%be%20%d0%bd%d0%b0%d0%b4%d0%be%20%d1%82%d0%be%d0%bb%d1%8c%d0%ba%d0%be%20%d0%b7%d0%b0%d0%bf%d0%be%d0%bb%d0%bd%d0%b8%d1%82%d1%8c%20%d1%82%d0%b0%d0%b1%d0%bb%d0%b8%d1%86%d1%83%20%d1%81%20%d0%bf%d0%b5%d1%80%d1%81%d0%be%d0%bd%d0%b0%d0%bb%d1%8c%d0%bd%d1%8b%d0%bc%d0%b8%20%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d0%bc%d0%b8.%0a%d0%ad%d1%82%d0%b8%20%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d0%b5%20%d0%b7%d0%b0%d1%82%d0%b5%d0%bc%20%d0%bf%d0%b5%d1%80%d0%b5%d0%b4%d0%b0%d1%8e%d1%82%d1%81%d1%8f%20%d0%bd%d0%b0%20%d0%bf%d1%80%d0%be%d0%b2%d0%b5%d1%80%d0%ba%d1%83%20%d0%b2%20%d0%bd%d0%b5%d1%81%d0%ba%d0%be%d0%bb%d1%8c%d0%ba%d0%be%20%d0%b8%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%86%d0%b8%d0%b9%2c%20%d0%b2%d0%ba%d0%bb%d1%8e%d1%87%d0%b0%d1%8f%20%d0%9c%d0%92%d0%94.%20%d0%9f%d0%be%d1%81%d0%bb%d0%b5%20%d0%bd%d0%b0%d1%87%d0%b0%d0%bb%d0%b0%20%d1%82%d0%b5%d1%81%d1%82%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f%20%d0%b2%d1%8b%d1%8f%d1%81%d0%bd%d0%b8%d0%bb%d0%be%d1%81%d1%8c%2c%20%d1%87%d1%82%d0%be%20%d0%9c%d0%92%d0%94%20%d0%bf%d1%80%d0%b8%d0%bd%d0%b8%d0%bc%d0%b0%d0%b5%d1%82%20%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d0%b5%20%d0%b2%20%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%82%d0%b5%20markdown%2c%20%d0%b0%20%d0%93%d0%be%d1%81%d0%a3%d1%81%d0%bb%d1%83%d0%b3%d0%b8%20%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d1%83%d1%8e%d1%82%d1%81%d1%8f%20html-%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%82%d0%be%d0%bc.%20%d0%9f%d0%be%d0%bc%d0%be%d0%b3%d0%b8%d1%82%d0%b5%20%d0%bd%d0%b0%d0%bf%d0%b8%d1%81%d0%b0%d1%82%d1%8c%20%d1%81%d0%ba%d1%80%d0%b8%d0%bf%d1%82%20%d0%bc%d0%b8%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d0%b8%20%d0%be%d0%b4%d0%bd%d0%be%d0%b3%d0%be%20%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%82%d0%b0%20%d0%b2%20%d0%b4%d1%80%d1%83%d0%b3%d0%be%d0%b9%2c%20%d1%87%d1%82%d0%be%d0%b1%d1%8b%20%d1%80%d0%b5%d0%b1%d1%8f%d1%82%d0%b0%20%d0%bf%d0%be%d1%81%d0%ba%d0%be%d1%80%d0%b5%d0%b5%20%d0%b7%d0%b0%d0%bf%d1%83%d1%81%d1%82%d0%b8%d0%bb%d0%b8%d1%81%d1%8c." aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=%2fposts%2favtomatiziruyte-eto%2f&t=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents><ul><li><a href=#описание-задачи>Описание задачи</a></li><li><a href=#условия-ввода>Условия ввода</a></li><li><a href=#условия-вывода>Условия вывода</a></li><li><a href=#примечания>Примечания</a></li><li><a href=#решение>Решение</a><ul><li><a href=#часть-1-постройка-ast>Часть 1: Постройка AST</a></li><li><a href=#часть-2-сборка-md-таблицы>Часть 2: Сборка MD-таблицы</a></li></ul></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Решение задачи "Автоматизируй это" | Яндекс Контест</h1><div class=meta><div class=postdate><time datetime="2022-06-26 19:46:21 +0300 +0300" itemprop=datePublished>2022-06-26</time></div></div></header><div class=content itemprop=articleBody><p>Задача взята c платформы Яндекс Контест - <a href=https://contest.yandex.ru/contest/19380/problems/D>https://contest.yandex.ru/contest/19380/problems/D</a>.</p><blockquote><p>P.S. Для просмотра на платформе вам скорее всего придется войти/зарегистрироваться.</p></blockquote><h2 id=описание-задачи>Описание задачи</h2><p>На государственном портале предоставления услуг сделали возможность подавать заявление на получение документов полностью автоматически, для этого надо только заполнить таблицу с персональными данными.</p><p>Эти данные затем передаются на проверку в несколько инстанций, включая МВД. После начала тестирования выяснилось, что МВД принимает данные в формате markdown, а ГосУслуги пользуются html-форматом. Помогите написать скрипт миграции одного формата в другой, чтобы ребята поскорее запустились.</p><p>Вам нужно написать функцию, которая на вход принимает HTML-таблицу и преобразует ее в markdown-подобную разметку.</p><p>В качестве решения этого задания отправьте файл .js, в котором объявлена функция solution:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>solution</span>(<span style=color:#a6e22e>input</span>) {  
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h2 id=условия-ввода>Условия ввода</h2><ul><li>HTML-таблица приходит в виде строки<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>table</span>&gt;  
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>colgroup</span>&gt;  
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>col</span> <span style=color:#a6e22e>align</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;right&#34;</span> /&gt;  
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>col</span> /&gt;  
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>col</span> <span style=color:#a6e22e>align</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;center&#34;</span> /&gt;  
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>colgroup</span>&gt;  
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>thead</span>&gt;  
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>tr</span>&gt;  
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>td</span>&gt;Command         &lt;/<span style=color:#f92672>td</span>&gt;  
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>td</span>&gt;Description     &lt;/<span style=color:#f92672>td</span>&gt;  
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;Is implemented  &lt;/<span style=color:#f92672>th</span>&gt;  
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>tr</span>&gt;  
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>thead</span>&gt;  
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>tbody</span>&gt;  
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>tr</span>&gt;  
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;git status&lt;/<span style=color:#f92672>th</span>&gt;  
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>td</span>&gt;List all new or modified    files&lt;/<span style=color:#f92672>td</span>&gt;  
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;Yes&lt;/<span style=color:#f92672>th</span>&gt;  
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>tr</span>&gt;  
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>tr</span>&gt;  
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>th</span>&gt;git diff&lt;/<span style=color:#f92672>th</span>&gt;  
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>td</span>&gt;Show file differences that haven’t been  
</span></span><span style=display:flex><span>staged&lt;/<span style=color:#f92672>td</span>&gt;  
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>td</span>&gt;No&lt;/<span style=color:#f92672>td</span>&gt;  
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>tr</span>&gt;  
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>tbody</span>&gt;  
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>table</span>&gt;
</span></span></code></pre></div></li><li>В таблице могут содержаться теги <code>colgroup</code>, <code>thead</code> и <code>tbody</code> в фиксированном порядке.<br>Все эти теги опциональны, но всегда будет присутствовать как минимум thead либо tbody.<ul><li><code>colgroup</code> содержит теги <code>col</code>, у которых может быть опциональный атрибут <code>align</code> с одним из трех значений <code>(left|center|right)</code>.</li><li><code>thead</code> и <code>tbody</code> содержат 1 или более <code>tr</code></li><li><code>tr</code>, в свою очередь, содержат как <code>td</code>, так и <code>th</code>.</li></ul></li><li>В таблице всегда будет хотя бы одна строка.<br>В строке всегда будет хотя бы одна ячейка.<br>В ячейке всегда присутствует хотя бы один не-whitespace символ.</li><li>Количество элементов <code>th/td</code> в строках всегда совпадает между всеми строками и с количеством элементов <code>col</code> в <code>colgroup</code>, при наличии <code>colgroup</code>.</li><li>Пробелы и переносы строк в исходном HTML могут встречаться в любом месте, не нарушающем валидность HTML.</li></ul><h2 id=условия-вывода>Условия вывода</h2><ul><li>На выходе должна получиться строка с markdown-разметкой<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=display:flex><span>| Command | Description | <span style=font-weight:700>**Is implemented**</span> |  
</span></span><span style=display:flex><span>| ---: | :--- | :---: |  
</span></span><span style=display:flex><span>| <span style=font-weight:700>**git status**</span> | List all new or modified files | <span style=font-weight:700>**Yes**</span> |  
</span></span><span style=display:flex><span>| <span style=font-weight:700>**git diff**</span> | Show file differences that haven’t been staged | No |
</span></span></code></pre></div></li><li>Первая встретившаяся строка в таблице должна всегда превращаться в строку-заголовок в markdown-разметке.<br>Все остальные строки идут в тело таблицы.<br>Разделитель заголовка выводится всегда.</li><li>Пробелы по краям содержимого тегов td и th должны быть удалены.<br>Переносы строк в содержимом ячеек должны быть удалены.<br>Более одного пробела подряд в содержимом ячеек должны быть заменены одним пробелом.</li><li>За выравнивание в ячейках столбцов markdown-таблицы отвечает форматирование разделителя заголовка:<br><code>| :--- |</code> значит выравнивание по левому краю<br><code>| :---: |</code> значит выравнивание по центру<br><code>| ---: |</code> значит выравнивание по правому краю</li><li>При отсутствии заданного в теге <code>col</code> атрибута <code>align</code> выравнивание должно быть задано влево.</li></ul><h2 id=примечания>Примечания</h2><ul><li>Для перевода строки нужно использовать символ <code>\n</code>.</li><li>Решение будет проверяться в браузерном окружении <strong>(Chrome 78)</strong> с доступом к объектам <code>document</code> и <code>window</code>.</li><li>Можно использовать синтаксис до <strong>es2018</strong> включительно.</li></ul><h2 id=решение>Решение</h2><p>Мой план такой: сначала отпарсить HTML-таблицу в <a href=https://en.wikipedia.org/wiki/Abstract_syntax_tree>AST</a>, а затем из последнего построить MD-таблицу.</p><h3 id=часть-1-постройка-ast>Часть 1: Постройка AST</h3><p>Для начала создадим классы под каждый тэг, которые позже будут использоваться как ноды <a href=https://en.wikipedia.org/wiki/Abstract_syntax_tree>AST</a>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TableTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>(
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>colgroup?</span>: <span style=color:#66d9ef>ColgroupTag</span>,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>thead?</span>: <span style=color:#66d9ef>TheadTag</span>,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>tbody?</span>: <span style=color:#66d9ef>TbodyTag</span>
</span></span><span style=display:flex><span>  ) {}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ColgroupTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>public</span> <span style=color:#a6e22e>children</span>: <span style=color:#66d9ef>ColTag</span>[]) {}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TheadTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>public</span> <span style=color:#a6e22e>children</span>: <span style=color:#66d9ef>TrTag</span>[]) {}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TbodyTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>public</span> <span style=color:#a6e22e>children</span>: <span style=color:#66d9ef>TrTag</span>[]) {}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ColTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>public</span> <span style=color:#a6e22e>align</span><span style=color:#f92672>?:</span> <span style=color:#e6db74>&#34;left&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;center&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;right&#34;</span>) {}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TrTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>public</span> <span style=color:#a6e22e>children</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>TdTag</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>ThTag</span>)[]) {}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TdTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>public</span> <span style=color:#a6e22e>content</span>: <span style=color:#66d9ef>string</span>) {}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ThTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>public</span> <span style=color:#a6e22e>content</span>: <span style=color:#66d9ef>string</span>) {}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>А теперь по порядку будем <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions>RegExp(ом)</a> вытаскивать наши теги.<br>На примере <code>col</code> и <code>colgroup</code> тэга.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ColgroupTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>static</span> <span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>html</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// У нас может может только один colgroup, поэтому без g флага.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// И s флаг, чтобы .* не останавливался на newline(ах)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>matches</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>html</span>.<span style=color:#a6e22e>match</span>(<span style=color:#960050;background-color:#1e0010>/&lt;colgroup&gt;.*&lt;\/colgroup&gt;/s);</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>matches</span>) <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>undefined</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Здесь уже с g флагом, может быть несколько сol(ов)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>matches</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>matches</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/&lt;col.*?\/&gt;/g</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>matches</span>) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>GuaranteeError</span>(<span style=color:#e6db74>&#34;colgroup must contain cols&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>children</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>matches</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>c</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>ColTag</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>c</span>));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ColgroupTag</span>(<span style=color:#a6e22e>children</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ColTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>static</span> <span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>html</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>matches</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>html</span>.<span style=color:#a6e22e>match</span>(
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Хватаем тэг с группой align, но игнорим само слово align
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#e6db74>/&lt;col\s*(?:align=&#34;(left|center|right)&#34;)?\s*\/?&gt;/</span>
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>matches</span>) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>GuaranteeError</span>(<span style=color:#e6db74>&#34;must be valid col&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>switch</span> (<span style=color:#a6e22e>matches</span>[<span style=color:#ae81ff>1</span>]) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;left&#34;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ColTag</span>(<span style=color:#e6db74>&#34;left&#34;</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;center&#34;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ColTag</span>(<span style=color:#e6db74>&#34;center&#34;</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;right&#34;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ColTag</span>(<span style=color:#e6db74>&#34;right&#34;</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>default</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ColTag</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p><code>GuaranteeError</code> это класс ошибки по тому, что нам гарантируется условиями задачи.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>GuaranteeError</span> <span style=color:#66d9ef>extends</span> Error {
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>constructor</span>(<span style=color:#a6e22e>message</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>     <span style=color:#66d9ef>super</span>(<span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>     <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;GuaranteeError&#34;</span>;
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span> }
</span></span></code></pre></div></blockquote><p>Если если мы вызовем <code>ColgroupTag.parse(arg)</code>, где <code>arg</code> это:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>colgroup</span>&gt;  
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>col</span> <span style=color:#a6e22e>align</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;right&#34;</span> /&gt;  
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>col</span> /&gt;  
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>col</span> <span style=color:#a6e22e>align</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;center&#34;</span> /&gt;  
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>colgroup</span>&gt;  
</span></span></code></pre></div><p>То у нас должно &ldquo;выплюнуться&rdquo;:</p><pre tabindex=0><code>class ColgroupTag {
  children: [
    class ColTag { align: &#34;right&#34; },
    class ColTag { },
    class ColTag { align: &#34;center&#34; }
  ]
}
</code></pre><p>Парсинг-методы для остальных тэгов:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TheadTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>static</span> <span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>html</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>matches</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>html</span>.<span style=color:#a6e22e>match</span>(<span style=color:#960050;background-color:#1e0010>/&lt;thead&gt;.*&lt;\/thead&gt;/s);</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>matches</span>) <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>undefined</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>matches</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>matches</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>match</span>(<span style=color:#960050;background-color:#1e0010>/&lt;tr&gt;.*?&lt;\/tr&gt;/gs);</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>matches</span>) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>GuaranteeError</span>(<span style=color:#e6db74>&#34;thead must have at least one row&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>children</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>matches</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>r</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>TrTag</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>r</span>));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>TheadTag</span>(<span style=color:#a6e22e>children</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TbodyTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>static</span> <span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>html</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>matches</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>html</span>.<span style=color:#a6e22e>match</span>(<span style=color:#960050;background-color:#1e0010>/&lt;tbody&gt;.*&lt;\/tbody&gt;/s);</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>matches</span>) <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>undefined</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>matches</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>matches</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>match</span>(<span style=color:#960050;background-color:#1e0010>/&lt;tr&gt;.*?&lt;\/tr&gt;/gs);</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>matches</span>) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>GuaranteeError</span>(<span style=color:#e6db74>&#34;tbody must have at least one row&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>children</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>matches</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>r</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>TrTag</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>r</span>));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>TbodyTag</span>(<span style=color:#a6e22e>children</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TrTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>static</span> <span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>html</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>matches</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>html</span>.<span style=color:#a6e22e>match</span>(<span style=color:#960050;background-color:#1e0010>/&lt;(th|td)&gt;.*?&lt;\/(.*?)\1&gt;/gs);</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>matches</span>) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>GuaranteeError</span>(<span style=color:#e6db74>&#34;tr must have at least one td&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>children</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>matches</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>d</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isHeader</span> <span style=color:#f92672>=</span> Boolean(<span style=color:#960050;background-color:#1e0010>/&lt;th&gt;.*&lt;\/th&gt;/s.test(d));</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>isHeader</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>ThTag</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>d</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>TdTag</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>d</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>TrTag</span>(<span style=color:#a6e22e>children</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TdTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>static</span> <span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>html</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>matches</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>html</span>.<span style=color:#a6e22e>match</span>(<span style=color:#960050;background-color:#1e0010>/(?&lt;=&lt;td&gt;).+(?=&lt;\/td&gt;)/s);</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>matches</span>) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>GuaranteeError</span>(<span style=color:#e6db74>&#34;&#39;td can&#39;t be empty&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>TdTag</span>(<span style=color:#a6e22e>matches</span>[<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ThTag</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>static</span> <span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>html</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>matches</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>html</span>.<span style=color:#a6e22e>match</span>(<span style=color:#960050;background-color:#1e0010>/(?&lt;=&lt;th&gt;).+(?=&lt;\/th&gt;)/s);</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>matches</span>) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>GuaranteeError</span>(<span style=color:#e6db74>&#34;&#39;th can&#39;t be empty&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ThTag</span>(<span style=color:#a6e22e>matches</span>[<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Вроде бы у нас теперь генерится <a href=https://en.wikipedia.org/wiki/Abstract_syntax_tree>AST</a> и можно приступить ко второй части нашего процесса решения.</p><h3 id=часть-2-сборка-md-таблицы>Часть 2: Сборка MD-таблицы</h3><p>Создадим helper-функцию, которая создавала бы md-строчку из <code>TrTag</code> тэг-класса:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>createRowLine</span>(<span style=color:#a6e22e>tr</span>: <span style=color:#66d9ef>TrTag</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>line</span>: <span style=color:#66d9ef>string</span>[] <span style=color:#f92672>|</span> <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>children</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>d</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>d</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>ThTag</span>)
</span></span><span style=display:flex><span>      (<span style=color:#a6e22e>line</span> <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>string</span>[]).<span style=color:#a6e22e>push</span>(<span style=color:#e6db74>` **</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>straightenText</span>(<span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>content</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>** `</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> (<span style=color:#a6e22e>line</span> <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>string</span>[]).<span style=color:#a6e22e>push</span>(<span style=color:#e6db74>` </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>straightenText</span>(<span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>content</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74> `</span>);
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>line</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;&#34;</span>, ...<span style=color:#a6e22e>line</span>, <span style=color:#e6db74>&#34;&#34;</span>].<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#34;|&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>line</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p><code>straightenText</code> это функцию, которая очищает текст от whitespace(ов).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>straightenText</span>(<span style=color:#a6e22e>text</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Удаление новых линий
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>text</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>replace</span>(<span style=color:#e6db74>/\n/g</span>, <span style=color:#e6db74>&#34;&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Trim по обеим сторонам текста
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>text</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>trim</span>();
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Замена более 2-х последовательных пробелов
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>text</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>replace</span>(<span style=color:#e6db74>/\s{2,}/g</span>, <span style=color:#e6db74>&#34; &#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>text</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></blockquote><p>И ещё одну helper-функцию, которая создавала бы md-строчку alignment(а) из <code>ColgroupTag</code> тэг-класса:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>createAlignmentLine</span>(<span style=color:#a6e22e>colgroupTag</span>: <span style=color:#66d9ef>ColgroupTag</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>line</span>: <span style=color:#66d9ef>string</span>[] <span style=color:#f92672>|</span> <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colgroupTag</span>.<span style=color:#a6e22e>children</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>c</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>switch</span> (<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>align</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;left&#34;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        (<span style=color:#a6e22e>line</span> <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>string</span>[]).<span style=color:#a6e22e>push</span>(<span style=color:#e6db74>&#34; :--- &#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;center&#34;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        (<span style=color:#a6e22e>line</span> <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>string</span>[]).<span style=color:#a6e22e>push</span>(<span style=color:#e6db74>&#34; :---: &#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;right&#34;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        (<span style=color:#a6e22e>line</span> <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>string</span>[]).<span style=color:#a6e22e>push</span>(<span style=color:#e6db74>&#34; ---: &#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>default</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        (<span style=color:#a6e22e>line</span> <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>string</span>[]).<span style=color:#a6e22e>push</span>(<span style=color:#e6db74>&#34; :--- &#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>line</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;&#34;</span>, ...<span style=color:#a6e22e>line</span>, <span style=color:#e6db74>&#34;&#34;</span>].<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#34;|&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>line</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Наконец-то, после написания всех наших helper(ов) мы можем приступить к написанию кода который будет возвращать финальный output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>solution() {</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tableTag</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>TableTag</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>input</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lines</span>: <span style=color:#66d9ef>string</span>[] <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>line</span>: <span style=color:#66d9ef>string</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>thead</span>) <span style=color:#a6e22e>line</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createRowLine</span>(<span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>thead</span>.<span style=color:#a6e22e>children</span>[<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// На случай если у нас нету thead(а),
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// тогда нам по условию нужно взять 1-ую строчку из tbody
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>line</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createRowLine</span>((<span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>tbody</span> <span style=color:#66d9ef>as</span> <span style=color:#a6e22e>TbodyTag</span>).<span style=color:#a6e22e>children</span>[<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lines</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>line</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>colgroup</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createAlignmentLine</span>(<span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>colgroup</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Если у нас нету colgroup,
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// то мы определяем кол-во столбцов через thead ил tbody
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>colNum</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>thead</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>?</span> <span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>thead</span>.<span style=color:#a6e22e>children</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>children</span>.<span style=color:#a6e22e>length</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Typescript не знает, что у нас по условию точно будет или thead или tbody,
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#75715e>// поэтому нужно указать это keyword(ом) &#34;as&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#f92672>:</span> (<span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>tbody</span> <span style=color:#66d9ef>as</span> <span style=color:#a6e22e>TbodyTag</span>).<span style=color:#a6e22e>children</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>children</span>.<span style=color:#a6e22e>length</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>dummyColgroup</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ColgroupTag</span>(Array(<span style=color:#a6e22e>colNum</span>).<span style=color:#a6e22e>fill</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ColTag</span>()));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createAlignmentLine</span>(<span style=color:#a6e22e>dummyColgroup</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lines</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>line</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Обработать case, когда у нас больше 1-ого заголовка
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>thead</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>thead</span>.<span style=color:#a6e22e>children</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>thead</span>.<span style=color:#a6e22e>children</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tr</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>thead</span>.<span style=color:#a6e22e>children</span>[<span style=color:#a6e22e>i</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>line</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createRowLine</span>(<span style=color:#a6e22e>tr</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>lines</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>line</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>tbody</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Если мы использовали первый ряд как заголовок, то мы его пропускаем
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> (
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>thead</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>0</span> : <span style=color:#66d9ef>1</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>tbody</span>.<span style=color:#a6e22e>children</span>.<span style=color:#a6e22e>length</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    ) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tr</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tableTag</span>.<span style=color:#a6e22e>tbody</span>.<span style=color:#a6e22e>children</span>[<span style=color:#a6e22e>i</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>line</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createRowLine</span>(<span style=color:#a6e22e>tr</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>lines</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>line</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>output</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>lines</span>.<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#34;\n&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>output</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Вроде всё. Ссылка на <a href=./code.txt>полный код</a></p></div></article><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><a href=#описание-задачи>Описание задачи</a></li><li><a href=#условия-ввода>Условия ввода</a></li><li><a href=#условия-вывода>Условия вывода</a></li><li><a href=#примечания>Примечания</a></li><li><a href=#решение>Решение</a><ul><li><a href=#часть-1-постройка-ast>Часть 1: Постройка AST</a></li><li><a href=#часть-2-сборка-md-таблицы>Часть 2: Сборка MD-таблицы</a></li></ul></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=%2fposts%2favtomatiziruyte-eto%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=%2fposts%2favtomatiziruyte-eto%2f&text=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=%2fposts%2favtomatiziruyte-eto%2f&title=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=%2fposts%2favtomatiziruyte-eto%2f&is_video=false&description=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82&body=Check out this article: %2fposts%2favtomatiziruyte-eto%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=%2fposts%2favtomatiziruyte-eto%2f&title=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=%2fposts%2favtomatiziruyte-eto%2f&title=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=%2fposts%2favtomatiziruyte-eto%2f&name=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82&description=%d0%97%d0%b0%d0%b4%d0%b0%d1%87%d0%b0%20%d0%b2%d0%b7%d1%8f%d1%82%d0%b0%20c%20%d0%bf%d0%bb%d0%b0%d1%82%d1%84%d0%be%d1%80%d0%bc%d1%8b%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82%20-%20https%3a%2f%2fcontest.yandex.ru%2fcontest%2f19380%2fproblems%2fD.%0aP.S.%20%d0%94%d0%bb%d1%8f%20%d0%bf%d1%80%d0%be%d1%81%d0%bc%d0%be%d1%82%d1%80%d0%b0%20%d0%bd%d0%b0%20%d0%bf%d0%bb%d0%b0%d1%82%d1%84%d0%be%d1%80%d0%bc%d0%b5%20%d0%b2%d0%b0%d0%bc%20%d1%81%d0%ba%d0%be%d1%80%d0%b5%d0%b5%20%d0%b2%d1%81%d0%b5%d0%b3%d0%be%20%d0%bf%d1%80%d0%b8%d0%b4%d0%b5%d1%82%d1%81%d1%8f%20%d0%b2%d0%be%d0%b9%d1%82%d0%b8%2f%d0%b7%d0%b0%d1%80%d0%b5%d0%b3%d0%b8%d1%81%d1%82%d1%80%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d1%82%d1%8c%d1%81%d1%8f.%0a%d0%9e%d0%bf%d0%b8%d1%81%d0%b0%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%d0%9d%d0%b0%20%d0%b3%d0%be%d1%81%d1%83%d0%b4%d0%b0%d1%80%d1%81%d1%82%d0%b2%d0%b5%d0%bd%d0%bd%d0%be%d0%bc%20%d0%bf%d0%be%d1%80%d1%82%d0%b0%d0%bb%d0%b5%20%d0%bf%d1%80%d0%b5%d0%b4%d0%be%d1%81%d1%82%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d1%8f%20%d1%83%d1%81%d0%bb%d1%83%d0%b3%20%d1%81%d0%b4%d0%b5%d0%bb%d0%b0%d0%bb%d0%b8%20%d0%b2%d0%be%d0%b7%d0%bc%d0%be%d0%b6%d0%bd%d0%be%d1%81%d1%82%d1%8c%20%d0%bf%d0%be%d0%b4%d0%b0%d0%b2%d0%b0%d1%82%d1%8c%20%d0%b7%d0%b0%d1%8f%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%bd%d0%b0%20%d0%bf%d0%be%d0%bb%d1%83%d1%87%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b4%d0%be%d0%ba%d1%83%d0%bc%d0%b5%d0%bd%d1%82%d0%be%d0%b2%20%d0%bf%d0%be%d0%bb%d0%bd%d0%be%d1%81%d1%82%d1%8c%d1%8e%20%d0%b0%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%b8%2c%20%d0%b4%d0%bb%d1%8f%20%d1%8d%d1%82%d0%be%d0%b3%d0%be%20%d0%bd%d0%b0%d0%b4%d0%be%20%d1%82%d0%be%d0%bb%d1%8c%d0%ba%d0%be%20%d0%b7%d0%b0%d0%bf%d0%be%d0%bb%d0%bd%d0%b8%d1%82%d1%8c%20%d1%82%d0%b0%d0%b1%d0%bb%d0%b8%d1%86%d1%83%20%d1%81%20%d0%bf%d0%b5%d1%80%d1%81%d0%be%d0%bd%d0%b0%d0%bb%d1%8c%d0%bd%d1%8b%d0%bc%d0%b8%20%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d0%bc%d0%b8.%0a%d0%ad%d1%82%d0%b8%20%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d0%b5%20%d0%b7%d0%b0%d1%82%d0%b5%d0%bc%20%d0%bf%d0%b5%d1%80%d0%b5%d0%b4%d0%b0%d1%8e%d1%82%d1%81%d1%8f%20%d0%bd%d0%b0%20%d0%bf%d1%80%d0%be%d0%b2%d0%b5%d1%80%d0%ba%d1%83%20%d0%b2%20%d0%bd%d0%b5%d1%81%d0%ba%d0%be%d0%bb%d1%8c%d0%ba%d0%be%20%d0%b8%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%86%d0%b8%d0%b9%2c%20%d0%b2%d0%ba%d0%bb%d1%8e%d1%87%d0%b0%d1%8f%20%d0%9c%d0%92%d0%94.%20%d0%9f%d0%be%d1%81%d0%bb%d0%b5%20%d0%bd%d0%b0%d1%87%d0%b0%d0%bb%d0%b0%20%d1%82%d0%b5%d1%81%d1%82%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f%20%d0%b2%d1%8b%d1%8f%d1%81%d0%bd%d0%b8%d0%bb%d0%be%d1%81%d1%8c%2c%20%d1%87%d1%82%d0%be%20%d0%9c%d0%92%d0%94%20%d0%bf%d1%80%d0%b8%d0%bd%d0%b8%d0%bc%d0%b0%d0%b5%d1%82%20%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d0%b5%20%d0%b2%20%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%82%d0%b5%20markdown%2c%20%d0%b0%20%d0%93%d0%be%d1%81%d0%a3%d1%81%d0%bb%d1%83%d0%b3%d0%b8%20%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d1%83%d1%8e%d1%82%d1%81%d1%8f%20html-%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%82%d0%be%d0%bc.%20%d0%9f%d0%be%d0%bc%d0%be%d0%b3%d0%b8%d1%82%d0%b5%20%d0%bd%d0%b0%d0%bf%d0%b8%d1%81%d0%b0%d1%82%d1%8c%20%d1%81%d0%ba%d1%80%d0%b8%d0%bf%d1%82%20%d0%bc%d0%b8%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d0%b8%20%d0%be%d0%b4%d0%bd%d0%be%d0%b3%d0%be%20%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%82%d0%b0%20%d0%b2%20%d0%b4%d1%80%d1%83%d0%b3%d0%be%d0%b9%2c%20%d1%87%d1%82%d0%be%d0%b1%d1%8b%20%d1%80%d0%b5%d0%b1%d1%8f%d1%82%d0%b0%20%d0%bf%d0%be%d1%81%d0%ba%d0%be%d1%80%d0%b5%d0%b5%20%d0%b7%d0%b0%d0%bf%d1%83%d1%81%d1%82%d0%b8%d0%bb%d0%b8%d1%81%d1%8c." aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=%2fposts%2favtomatiziruyte-eto%2f&t=%d0%a0%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d0%b5%20%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b8%20%22%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b8%d1%80%d1%83%d0%b9%20%d1%8d%d1%82%d0%be%22%20%7c%20%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81%20%d0%9a%d0%be%d0%bd%d1%82%d0%b5%d1%81%d1%82" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick='return $("#nav-footer").toggle(),!1' aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick='return $("#toc-footer").toggle(),!1' aria-label=TOC><i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick='return $("#share-footer").toggle(),!1' aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2022 Rami's Mixtape</div><div class=footer-right><nav><ul></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script></html>